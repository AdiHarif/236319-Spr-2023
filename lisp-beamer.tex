\PassOptionsToPackage{table,dvipsnames}{xcolor}
\documentclass[fleqn]{beamer}
\usepackage{00}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=white,
    urlcolor=blue,
}

% vertical separator macro
\newcommand{\vsep}{
  \column{0.0\textwidth}
    \begin{tikzpicture}
      \draw[very thick,black!10] (0,0)--(0,7.3);
    \end{tikzpicture}
}

% More space between lines in align
\setlength{\mathindent}{0pt}

% Beamer theme
\usetheme{ZMBZFMK}
\usefonttheme[onlysmall]{structurebold}
\mode<presentation>
\setbeamercovered{transparent=10}

% align spacing
\setlength{\jot}{0pt}

%\setbeamertemplate{navigation symbols}{}%remove navigation symbols

\title{Mini Lisp}
\author{Maxim Barsky}
\institute[Programming Languages- 236319]{Programming Languages⏎ 236319}
\date{\today}

\begin{document}
\setLTR
\begin{frame}
\titlepage
\end{frame}

\begin{frame}
\frametitle{Preliminaries}
\begin{block}{Running Mini Lisp code}
  Use the following link to test your Mini Lisp code: ⏎
  \url{https://rextester.com/l/commonₗispₒnline_compiler} ⏎
  Note that this uses the Common Lisp language which is a superset of Mini Lisp. ⏎
  You are only allowed to use functions of Mini Lisp, as shown in the lectures and tutorials.
\end{block}
\end{frame}

\begin{frame}%{8 Atomic Functions of Mini Lisp}{atomic functions are builtin}
\begin{block}{Structural}
  \begin{description}
    \item[car/1] Quiz:
      \lisp{(car '(b.a))}?
      \lisp{(car '(b a))}?
      \lisp{(car '(a))}?
      \lisp{(car 'a)}?
      \lisp{(car ())}?
    \item[cdr/1] Quiz:
      \lisp{(cdr '(a.b))}?
      \lisp{(cdr '(a b))}?
      \lisp{(cdr '(b))}?
      \lisp{(cdr t)}?
      \lisp{(cdr ())}?
      \lisp{(cdr nil)}?
    \item[cons/2] Quiz:
      \lisp{(cons 'a '(b c))}?
      \lisp{(cons 'b nil)}?
      \lisp{(cons 'a 'b)}?
  \end{description}
\end{block}
%\begin{block}{Logical}
%  \begin{description}
%    \item[atom/1] Quiz:
%      \lisp{(atom nil)}?
%      \lisp{(atom t)}?
%      \lisp{(atom '(a a))}?
%      \lisp{(atom 'a)}?
%    \item[eq/1] Quiz:
%      \lisp{(eq t t)}?
%      \lisp{(eq t nil)}?
%      \lisp{(eq nil nil)}?
%      \lisp{(eq 'a 'a)}?
%      \lisp{(eq '(a a) '(a a))}?
%    \item[cond/n] Quiz:
%      \lisp{(cond (t 'A))}?
%      \lisp{(cond (nil 'A) (t 'B))}?
%      \lisp{(cond (nil 'A) (t 'B) (t 'C))}?
%      \lisp{(cond (nil 'A) (nil 'B) (nil 'C))}?
%      \lisp{(cond)}?
%  \end{description}
%\end{block}
%\begin{block}
%  \begin{description}
%    \item[set/2] Quiz:
%      \lisp{(set 'a '(b c))}?
%      \lisp{(set 'b nil)}?
%    \item[error/2] Quiz:
%      \lisp{(error)}?
%      \lisp{(error A)}?
%      \lisp{(error 'my-error 'message)}?
%  \end{description}
%\end{block}
\end{frame}
\end{document}

\begin{frame}{Predefined Functions in Mini Lisp}{defined using atomic functions only}
%\begin{block}{Predefined Functions}
%  defun ⏎
%  lambda ⏎
%  null ⏎
%  ndefun ⏎
%  nlambda ⏎
%  quote
%\end{block}
%Two concepts:
%\begin{itemize}
%  \item Function name: strings \texttt{defun}, \texttt{nlamda},…
%  \item Function body: defined in library
%\end{itemize}
%\pause
%\begin{block}{Predefined Names of Atoms}
%  t ⏎
%  nil
%\end{block}
%Predefined atoms, are just like functions that take no argument,
%\begin{itemize}
%  \item Function name: strings \texttt{t} and \texttt{nil}
%  \item Function body: defined in library to the string \texttt{t} and \texttt{nil}
%\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Exercise}
\begin{block}{Binary representation of numbers}
  First let us define how we represent an unsigned integer in binary, ⏎
  A number will be represented in its' binary form as a List consisting of the atom O and Z with the LSB (Least Significant Bit) first. ie. the leftmost bit the the LSB. ⏎
  The atom Z will represent zero and the atom O will represent one.
\end{block}

\begin{block}{Example}
  The number~$6={110}_b$ will be represented as (Z O O) ⏎
  The number~$9={1001}_b$ will be represented as (O Z Z O)
\end{block}
\end{frame}

\begin{frame}
\frametitle{Exercise}
\begin{block}{Implement the following functions}
  \begin{enumerate}
    \item bnormalize--receives a number represented as a list and returns its' shortest representation, without trailing zeros.
    \item badd--receives two numbers represented as lists (not necessarily the shortest- normalized representation) and returns the shortest list representing the sum of the two numbers.
  \end{enumerate}
\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Solution- bnormalize}
\begin{block}{Auxiliary functions}
  \begin{lstlisting}[language=Lisp]
(defun list-contains-only-zeros (l) (
  cond
    ((null l) t)
    ((eq (car l) (quote Z))
      (list-contains-only-zeros (cdr l)))
    ((eq (car l) (quote O)) (nil))
))
    \end{lstlisting}
\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Solution- bnormalize}
\begin{block}{bnormalize}
  \begin{lstlisting}[language=Lisp]
(defun bnormalize (l) (
  cond
    ((list-contains-only-zeros l) nil)
    (t (cons (car l) (bnormalize (cdr l))))
))
    \end{lstlisting}
\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Solution- badd}
\begin{block}{Auxiliary functions}
  \begin{lstlisting}[language=Lisp]
(defun andalso (l) (
  cond
    ((null b1) nil)
    ((null b2) nil)
    (t t)
))
    \end{lstlisting}
\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Solution- badd}
\begin{block}{badd}
  \begin{lstlisting}[language=Lisp]
(defun badd (l1 l2) (
  cond
    ((null (bnormalize l1)) (bnormalize l2))
    ((andalso (eq (car l1) 'O) (eq (car l2) 'O))
      (cons 'Z (badd (badd 'O (cdr l1)) (cdr l2))))
    ((andalso (eq (car l1) 'Z) (eq (car l2) 'Z))
      (cons 'Z (badd (cdr l1) (cdr l2))))
    (t (cons 'O (badd (cdr l1) (cdr l2))))
))
    \end{lstlisting}
\end{block}

\begin{block}{Note}
  \Verb |(quote X)| is equivalent to \Verb |'X|.
\end{block}
\end{frame}

% should this be in the slides? or maybe use this or bsub as homework
\begin{frame}[fragile]
\frametitle{Solution- bmul}
\begin{block}{bmul}
  \begin{lstlisting}[language=Lisp]
(defun bmul (l1 l2) (
  cond
    ((null (bnormalize l1)) nil)
    ((eq (car l1) 'O)
      (bnormalize
        (badd l1 (cons 'Z (bmul l1 (cdr l2))))))
    ((eq (car l1) 'Z) (cons 'Z (bmul l1 (cdr l2))))
))
    \end{lstlisting}
\end{block}
\end{frame}

\begin{frame}
\frametitle{Exercise}
\uncover<1>{erster Satz}⏎
\uncover<3>{zweiter Satz}⏎
\uncover<2>{dritter Satz}
\end{frame}
\end{document}
